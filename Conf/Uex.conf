[General]
vif-mode = auto
loglevel = notify
udp-priority = true
exclude-simple-hostnames = true
show-error-page-for-reject = true
udp-policy-not-supported-behaviour = REJECT
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, iosapps.itunes.apple.com, seed-sequoia.siri.apple.com, sequoia.apple.com
ipv6 = true
// //////// IPv6 //////////
ipv6-vif = auto
internet-test-url = http://223.5.5.5
// /////// URL-Test /////////
proxy-test-url = http://1.1.1.1
test-timeout = 2
dns-server = 223.5.5.5
// ///////// DNS ///////////
doh-skip-cert-verification = true
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
// /////// Geo-IP /////////
compatibility-mode = 1
encrypted-dns-server = https://dns.alidns.com/dns-query

[Proxy Group]
Proxy = select, "ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", include-other-group=è®¢é˜…-æ‰‹åŠ¨èŠ‚ç‚¹, policy-regex-filter=ðŸ‡­ðŸ‡°|ðŸ‡¸ðŸ‡¬|ðŸ‡¯ðŸ‡µ, no-alert=0, hidden=0, include-all-proxies=0

YouTube = select, "ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", include-other-group=è®¢é˜…-æ‰‹åŠ¨èŠ‚ç‚¹, policy-regex-filter=ðŸ‡­ðŸ‡°|ðŸ‡¯ðŸ‡µ, no-alert=0, hidden=0, include-all-proxies=0

Netflix = select, "ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", include-other-group=è®¢é˜…-æ‰‹åŠ¨èŠ‚ç‚¹, no-alert=0, hidden=0, include-all-proxies=0, policy-regex-filter=ðŸ‡¸ðŸ‡¬

ChatGPT = select, "ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹", include-other-group=è®¢é˜…-æ‰‹åŠ¨èŠ‚ç‚¹, policy-regex-filter=ðŸ‡ºðŸ‡¸, no-alert=0, hidden=0, include-all-proxies=0

TikTok = select, "ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹", include-other-group=è®¢é˜…-æ‰‹åŠ¨èŠ‚ç‚¹, policy-regex-filter=ðŸ‡¯ðŸ‡µ|ðŸ‡ºðŸ‡¸, no-alert=0, hidden=0, include-all-proxies=0

Speedtest = select, DIRECT, Proxy, no-alert=0, hidden=0, include-all-proxies=0

è®¢é˜…-æ‰‹åŠ¨èŠ‚ç‚¹ = select, policy-path=ðŸ”´è¿™é‡Œå¡«å†™è®¢é˜…é“¾æŽ¥, update-interval=0, hidden=1, no-alert=0, include-all-proxies=0

è®¢é˜…-SmartèŠ‚ç‚¹ = select, policy-path=ðŸ”´è¿™é‡Œå¡«å†™è®¢é˜…é“¾æŽ¥, update-interval=0, hidden=1, no-alert=0, include-all-proxies=0

ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹ = smart, policy-regex-filter=^(?!.*0\.).*(ðŸ‡­ðŸ‡°), no-alert=0, hidden=1, include-all-proxies=0, include-other-group=è®¢é˜…-SmartèŠ‚ç‚¹

ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹ = smart, policy-regex-filter=^(?!.*0\.).*(ðŸ‡¯ðŸ‡µ), no-alert=0, hidden=1, include-all-proxies=0, include-other-group=è®¢é˜…-SmartèŠ‚ç‚¹

ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹ = smart, policy-regex-filter=^(?!.*0\.).*(ðŸ‡ºðŸ‡¸), no-alert=0, hidden=1, include-all-proxies=0, include-other-group=è®¢é˜…-SmartèŠ‚ç‚¹

ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹ = smart, policy-regex-filter=^(?!.*0\.).*(ðŸ‡¸ðŸ‡¬), no-alert=0, hidden=1, include-all-proxies=0, include-other-group=è®¢é˜…-SmartèŠ‚ç‚¹

[Rule]
# >>> inline
RULE-SET,LAN,DIRECT,extended-matching,no-resolve
RULE-SET,SYSTEM,DIRECT,extended-matching,no-resolve
# >>> AD-BLOCK
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject-no-drop.conf,REJECT-NO-DROP,pre-matching,extended-matching,no-resolve
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject-drop.conf,REJECT-DROP,pre-matching,extended-matching,no-resolve
RULE-SET,https://ruleset.skk.moe/List/ip/reject.conf,REJECT-DROP,extended-matching,no-resolve
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject.conf,REJECT,pre-matching,extended-matching,no-resolve
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject.conf,REJECT,pre-matching,extended-matching
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject_extra.conf,REJECT,pre-matching,extended-matching
RULE-SET,https://raw.githubusercontent.com/cc63/Surge/main/Module/Apple_AD.list,REJECT,extended-matching,no-resolve
# >>> Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Surge/FitnessPlus/FitnessPlus.list,Proxy,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_All.list,DIRECT,extended-matching,no-resolve
# >>> China
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WeChat/WeChat.list,DIRECT,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,DIRECT,extended-matching,no-resolve
# >>> AI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,ChatGPT,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/cc63/Surge/refs/heads/main/Module/Grok.list,ChatGPT,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Claude/Claude.list,ChatGPT,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Copilot/Copilot.list,ChatGPT,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Gemini/Gemini.list,ChatGPT,extended-matching,no-resolve
# >>> General
RULE-SET,https://raw.githubusercontent.com/cc63/Surge/main/Module/Speedtest.list,Speedtest,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list,ChatGPT,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,Proxy,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,Proxy,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Instagram/Instagram.list,Proxy,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,Proxy,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,Proxy,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,TikTok,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,YouTube,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube,extended-matching,no-resolve
# >>> Streaming
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,Netflix,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,Netflix,extended-matching,no-resolve
# >>> Final
GEOIP,CN,DIRECT
FINAL,Proxy,dns-failed

[Header Rewrite]
http-request (raw|gist|avatars)\.githubusercontent\.com header-replace Accept-Language en-us

[MITM]
skip-server-cert-verify = true
tcp-connection = true
h2 = true
hostname = -*.apple.com, -*.icloud.com, -*.itunes.com, *.githubusercontent.com
